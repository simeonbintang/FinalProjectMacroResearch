temp.file <- paste(tempfile(),".xlsx",sep = "")
download.file("https://www.bis.org/statistics/cbpol/cbpol_2211.xlsx", temp.file, mode = "wb")
interest_rate <- read_excel(temp.file, skip = 2)
library(tidyverse)
library(fredr)
library(readxl)
library(dplyr)
library(lubridate)
download.file("https://www.bis.org/statistics/cbpol/cbpol_2211.xlsx", temp.file, mode = "wb")
interest_rate <- read_excel(temp.file, skip = 2)
interest_rate <- interest_rate[-1,]
colnames(interest_rate)[1] <- "Date"
temp.file <- paste(tempfile(),".xlsx",sep = "")
download.file("https://www.bis.org/statistics/cbpol/cbpol_2211.xlsx", temp.file, mode = "wb")
interest_rate <- read_excel(temp.file, sheet = 3, skip = 2)
interest_rate <- interest_rate[-1,]
colnames(interest_rate)[1] <- "Date"
View(interest_rate)
View(interest_rate)
#Manufacturing Rate Indonesia
manufacturing_rate_indonesia <- fredr(series_id = "PRMNTO01IDQ661N",
observation_start = as.Date("2014-01-01"),
observation_end   = as.Date("2022-07-01"))
fredr_set_key("a276ace28f00c2ba0f9bfa14ea5f2289")
#Manufacturing Rate Indonesia
manufacturing_rate_indonesia <- fredr(series_id = "PRMNTO01IDQ661N",
observation_start = as.Date("2014-01-01"),
observation_end   = as.Date("2022-07-01"))
View(manufacturing_rate_indonesia)
#Manufacturing Rate United States
manufacturing_rate_unitedstates <- fredr(series_id = "PRMNTO01USQ661N",
observation_start = as.Date("2014-01-01"),
observation_end   = as.Date("2022-07-01"))
View(manufacturing_rate_indonesia)
View(manufacturing_rate_unitedstates)
library(tidyverse)
library(readxl)
#install.packages("rvest")
library(rvest)
library(tidytext)
setwd("~/GitHub/FinalProjectMacroResearch")
IND_news <- read_xlsx("Indonesia_news.xlsx")
View(IND_news)
IND_news$text <- sapply(IND_news$Link, function(x) {
tryCatch({
x %>%
read_html %>%
html_nodes('p') %>%
html_text(trim = T) %>%
toString()
}, error = function(e) NA)
})
View(IND_news)
IND_news_text <- tibble(IND_news$text)
names(IND_news_text)[1] <- "text"
#Combine all rows
IND_news_merged <- IND_news_text %>%
dplyr::summarise(text = paste(text, collapse = " "))
View(IND_news_merged)
word_tokens <- unnest_tokens(IND_news_merged, word_tokens, text, token = "words")
no_sw_IND_news <- anti_join(word_tokens, stop_words, by = c("word_tokens" = "word"))
count(no_sw_IND_news, word_tokens, sort = TRUE)
sentiment_nrc <-
get_sentiments("nrc") %>%
rename(nrc = sentiment)
sentiment_afinn <-
get_sentiments("afinn") %>%
rename(afinn = value)
sentiment_bing <-
get_sentiments("bing") %>%
rename(bing = sentiment)
no_sw_IND_news <- no_sw_IND_news %>%
left_join(sentiment_nrc, by = c("word_tokens" = "word")) %>%
left_join(sentiment_afinn, by = c("word_tokens" = "word")) %>%
left_join(sentiment_bing, by = c("word_tokens" = "word"))
ggplot(data = filter(no_sw_IND_news, !is.na(nrc))) +
geom_histogram(aes(nrc), stat = "count") +
scale_x_discrete(guide = guide_axis(angle = 45)) +
labs(title = "News Sentiment (NRC) to Interest Rate Changes 2015 - 2022")
ggplot(data = filter(no_sw_IND_news, !is.na(bing))) +
geom_histogram(aes(bing), stat = "count") +
scale_x_discrete(guide = guide_axis(angle = 45)) +
labs(title = "News Sentiment (BING) to Interest Rate Changes 2015 - 2022")
ggplot(data = filter(no_sw_IND_news, !is.na(afinn))) +
geom_histogram(aes(afinn), stat = "count") +
scale_x_continuous(n.breaks = 7) +
labs(title = "News Sentiment (AFINN) to Interest Rate Changes 2015 - 2022")
